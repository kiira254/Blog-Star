{% extends 'base.html'%}

{% block styles%}
    {{super()}}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{url_for('static',filename='css/index.css')}}">
    {% endblock%}
{% block content%}
    <div class="container" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
        <div class="jumbotron text-center">
            <h1 class="lead"><strong>MyBlogApp</strong></h1>
            <h4>'There is no better way to express your ideas and opinions than with a personal blog.'</h4>
        </div>
    </div>
    <div class="row" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
        <div class="col-md-2 col-lg-2 col-xs-1"></div>
        <div class="col-md-8 col-lg-8 col-xs-10 ">
            <div class="jumbotron">
                <h4 style="color: darkblue;"><strong>Quote</strong></h4>
                <p style="color: darkblue;" >{{quotes.quote}}</p>
                <p style="color: brown;">By:{{quotes.author}}</p>
            </div>
            <h1 style="text-align: center;">Blogs</h1>
            <ul class="list-index ">
                {% for blog in blogs.items%}
                <li class="jumbotron " style="padding-left:40px ; list-style-type: none;">                 
                    <div class="card mb-6 bg-dark text-white">
                        <div class="card-body">
                            <p class="card-text"><strong>{{blog.blog   }}</strong></p>
                            <p class="card-text" style="color:brown">Posted On: {{blog.posted.strftime('%Y-%m-%d')}}</p>
                        
                            <h5>Leave a Comment</h5>
                            <input type="text" placeholder="Enter your name" id="name"><br>
                            <br>
                            <input type="text" aria-rowcount="5" placeholder=" Enter comment" id="comment"><br>
                            <br>
                            <button onclick="add()">Submit</button>
                            <button onclick="location.reload()">Clear</button>
                            <ul class="list"></ul>
                        </div>
                    </div>              
                </li>
                <br>
                {%endfor%}
            </ul>
        </div>
        
        <div class="col-md-2 col-lg-2 col-xs-1"></div>
    </div>
    <script type="text/javascript">
        let add = () => {
        let name = document.querySelector('.container #name'); 
        let comment = document.querySelector('.container #comment'); 
        
        if (name.value !== "" && comment.value != "") { 
        
        let list = document.querySelector('.list'); 
        let time = new Date();
        let h = time.getHours(); 
        let m = time.getMinutes(); 
        let s = time.getSeconds(); 
        let now = h + " : " + m + " : " + s;
        let list_item = document.createElement ("l1"); 
        
        list_item.innerHTML = `
        <span>
        <p>${name.value} ${now}</p> 
        </span>
        <p>${comment.value}</p>
        `;
        list.append(list_item); 
        }
        
        if (name.value == "" || comment.value == "") {
        let list = document.querySelector('.list'); 
        let list_item = document.createElement ("l2"); 
        var warn = 'Please enter name & comment!';  
        list_item.innerHTML = `
        <span>
        <p>${warn}</p> 
        </span>
        `;
        list.append(list_item); 
        }
        name.value=comment.value = "";
        }
        
      </script>
   
{% endblock %}